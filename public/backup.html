/* eslint-disable camelcase */
// 'use strict';

const {Role} = require('../../models');

const tableName = 'roles';

module.exports = {
	// eslint-disable-next-line no-unused-vars
  up: async (queryInterface, Sequelize) => {
    const role_adm = await Role.findOne({where: {name: 'Administrador'} });
    if (role_adm) {
      const role_id = role_adm.id;
      const slug = 'admin';
      const sql_role = `UPDATE ${tableName} SET slug='${slug}' WHERE id='${role_id}'`;
      await queryInterface.sequelize.query(sql_role);
    }

    const role_sec = await Role.findOne({where: {name: 'Secretaria'} });
    if (role_sec) {
      const role_id = role_sec.id;
      const slug = 'secretary';
      const sql_role = `UPDATE ${tableName} SET slug='${slug}' WHERE id='${role_id}'`;
      await queryInterface.sequelize.query(sql_role);
    }

    const role_rel = await Role.findOne({where: {name: 'Relatoria'} });
    if (role_rel) {
      const role_id = role_rel.id;
      const slug = 'reporter';
      const sql_role = `UPDATE ${tableName} SET slug='${slug}' WHERE id='${role_id}'`;
      await queryInterface.sequelize.query(sql_role);
    }

    const role_pes = await Role.findOne({where: {name: 'Pesquisador(a)'} });
    if (role_pes) {
      const role_id = role_pes.id;
      const slug = 'researcher';
      const sql_role = `UPDATE ${tableName} SET slug='${slug}' WHERE id='${role_id}'`;
      await queryInterface.sequelize.query(sql_role);
    }

    const role_vet = await Role.findOne({where: {name: 'VeterinÃ¡rio(a)'} });
    if (role_vet) {
      const role_id = role_vet.id;
      const slug = 'vet';
      const sql_role = `UPDATE ${tableName} SET slug='${slug}' WHERE id='${role_id}'`;
      await queryInterface.sequelize.query(sql_role);
    }
  },
	// eslint-disable-next-line no-unused-vars
  down: async (queryInterface, Sequelize) => {
    const sql_role = `UPDATE ${tableName} SET slug=''`;
    await queryInterface.sequelize.query(sql_role);
  }
};

